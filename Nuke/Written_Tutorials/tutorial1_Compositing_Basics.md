[TOC]

# 教程1: 合成基础

你好! 这个教程将向你介绍nuke, 你将创建一个简单的合成并且带你浏览过大部分的窗口, 屏幕上的控制, 和其他界面元素。

## 介绍

我们听说在数字合成方面有许多人宁愿冒着冰雹前进也不愿看一下介绍教程。 显然, 那说的不是你。当你完成这个课程, 你将会很好的了解Nuke工作流而且应该产生了学习其他教程的自信。 

![你在Nuke中的首个合成](.\pic\tutorial1_1.png)

在你进入工程之前, 我们先得进行几项管理上的设置 - 像是定义首选项和设置工程设置。 我们知道这些事没什么意思, 但是这些真的非常重要, 所以请耐心, 我们将尽快完成它。

> **提示**: 如果你已经下载教程工程文件并已将它放到你创建的Nuke_Tutorials文件夹, 跳到[安装工程文件]()获取指引。

## 启动Nuke

可能你的桌面上已经有了Nuke图标。 如果有的话, 双击启动它。 否则的话, 通过以下手段启动Nuke(假设你将Nuke安装在了默认位置)。

### 在Windows下启动

* 在**开始**菜单下, 选择**所有程序** > **The Foundry** , 然后选择 **Nuke10.0v4**。

### 在Mac OSX下启动

* 打开**/Application/Nuke/**文件夹然后双击**Nuke10.0v4**图标。

### 在Linux下启动

* 打开**/usr/local/Nuke/**文件夹然后双击**Nuke10.0v4**图标。

> **提示**: 如果你在Linux下操作, 你也可以直接在终端的命令行中启动Nuke, 只要导航至Nuke文件夹并输入Nuke应用的名称

将会有一个空的Nuke窗口出现。 分割线将窗口分割成不同的面板。 每个面板有一页或者多页, 通过面板顶部的标签分割。 主窗口的左边是工具栏。

![](.\pic\tutorial1_2.png)

默认的面板设置下将会显示查看器(Viewer), 节点图(Node Graph)/曲线编辑器(Curve Editor)和属性(Properties)。 你将在节点图/曲线编辑器面板的节点图标签页内创建此工程的脚本。 我们将在你的工程需要的时候讲解这些屏幕上的控制。

## 使用工具栏

工具栏包含了你创建你的工程所需的选项, 像是导入图像, 叠加图像, 绘制形状和遮罩(mask), 应用颜色矫正, 等等。 每个工具栏图标都会展示一个包含了你可用_操作_或者_节点(node)_的列表。将你的指针悬停在工具栏上你将会看到每个图标的工具说明。

## 使用菜单

Nuke菜单栏位于你的屏幕顶部, 在主窗口之外。 这个菜单列出了选项**file**, **Edit**, **Workspace**等等选项。使用时在菜单栏中选择或者通过右键菜单选择。

![Nuke菜单栏](.\pic\tutorial1_3.png)

右键菜单是和当前情景高度相关的。 根据你鼠标指针的位置它的选项将会改变。 例如在节点图中右键单击, 你将会看到来自菜单栏的选项和你可以从工具栏插入的节点。 在查看器右键单击你将会看到查看器选项的菜单。

![右键菜单](.\pic\tutorial1_4.png)

当你找不到适当的控制或者菜单选项时, 试试右键菜单。 许多选项只有当你需要使用它时才会显示。

> **提示**: Nuke顶部的菜单栏在不同的操作系统上是不同的, 但是右键菜单无论你使用什么操作系统都是相同的。

## 自定义你的工作区

Nuke提供了多种自定义你窗口布局的方法。 是时候生成你自己独有的Nuke版本了! 在这个教程中你不需要调整默认布局, 但是为什么不试试满足你自己个人的需求呢? 你可以通过以下方法重新调整窗口布局:

* 拖动不同面板间的分割线。

  ![](.\pic\tutorial1_5.png)

* 要分割面板, 单击内容菜单(在每个面板左上角的格子按钮), 然后选择**Split Vertical** 或者**Split Horizontal**。

  ![](.\pic\tutorial1_6.png)

* 要放弃面板, 在内容菜单中选择**Close Pane**。

  ![](.\pic\tutorial1_7.png)

* 要给面板添加新的标签页, 在内容菜单中选择内容选项, 例如**New Viewer**(新查看器)或者 **Curve Editor**(曲线编辑器)。

* 点击标签页上的"x"关闭标签页。

  ![](.\pic\tutorial1_8.png)

* 要移动标签页, 直接拖动它的标签到主窗口内的其他面板。

* 要孤立标签页作为一个浮动窗口, 将它的标签拖到主窗口外, 或者直接按住**Ctrl**(Mac用户使用**Cmd**)单击它的标签名。

* 将浮动窗口拖进主窗口内面板转换成标签页。

* 在菜单栏中, 选择**Workspace** > **Save Workspace**来保存布局。 选择**Workspace** > **Restore Workspace** 来恢复之前保存的布局。 

## 保存文件和文件备份

我们假设你已经知道如何保存文件(提示: 选择 **File** > **Save Comp As**)。 另外, Nuke包含自动保存特性来帮助你在系统故障后恢复你的工程。 是的, 我们知道你_永远_不会遇到这种事情, 但是当它发生, 只要你启用了自动保存你就不会丢失你的成果。

###　设置文件/保存选项

1. 在节点图中右键单击, 选择 **Edit** > **Preferences**。

   注意**autosave filename**文件夹被设置为:

   `[firstof [value root.name] [getenv NUKE_TEMP_DIR]/].autosave`

   你不需要做任何更改; 这只是告诉Nuke将自动保存备份到你工程文件的同一个文件夹或者`NUKE_TEMP_DIR`环境变量提供的文件夹。

   现在, 你想要Nuke每隔多久自动备份一次你的工作? 每五分钟?

2. 将**force comp autosave after**选项的改为**300**秒, 来让Nuke每5分钟自动备份一次你的工作。

   ![](.\pic\tutorial1_9.png)

3. 单击**Save Prefs**(保存首选项)来保存修改然后**Close**(关闭)回到主窗口。

   如果你不保存就关闭对话框, 修改叫只对本次Nuke会话有效。

### 恢复备份文件

你可能会问, "我怎么在系统或者电源故障后恢复备份文件?" 问的好! 当你在此启动Nuke时, 你将会看到一个提示询问你是否为上次打开的文件恢复**.autosave**文件。 单击**Yes**然后Nuke就将打开备份文件。

> **提示**: **.autosave**文件即使你正常退出Nuke也有用, 因为它不会从文件夹中删除。 例如, 重命名**.autosave**文件来创建你工程之前版本的归档。

有时即使你没有遇到系统故障也会看到恢复提示。 这是因为你没保存修改就退出了Nuke, Nuke识别出**.autosave**文件的时间戳晚于你想要打开的文件。 这时, 由你决定你想要打开哪个版本的文件。

### 关闭自动备份

好吧。 你非要读这个, 所以我们可以假设你是个乐意享受成果丢失风险的叛逆者。这是件能让人加速分泌肾上腺素的事。 或者你有关于保存文件的秘密强迫症,想要自己手动做所有的事情。 无论是何种原因, 你可以将"autosave idle"和"force autosave"设为0秒来禁用自动备份。 这就是所有你要做的。 祝你好运。

## 设置工程

当你开始一个新的工程, 你需要定义工程设置: 工程的长度或帧范围, 每秒回放的帧数, 和输出格式。这些都要在**Project Setting**对话框中设置。

### 设置你的工程

1. 在节点图上右键单击, 选择**Edit** > **Project Settings**。

   ![](.\pic\tutorial1_10.png)

2. 在**frame range**栏中, 输入范围**1**到**28**。这是我们为工程创建的镜头长度。

3. 设置**24**帧每秒(fps)。

4. 单击**full size format**, 在下拉框中选择**PC_Video 640  x 480**。

5. 关闭**Project Settings**控制面板。

> **提示**: 在**Project Setting**控制面板中, **Color**标签确定了你显示和输出设备的色彩集成。 你不需要在这些教程中更改LUT, 但是我们建议你研究并且在你自己的工程中设置它。

现在, 你完成了一个新工程的标准准备流程。 在设置的过程中, 你用菜单栏访问了多种特性, 并且现在你将使用菜单栏来插入节点, 创建合成树。

## 使用节点

_节点_是构成你想要完成的一系列操作的基石。 _节点树_是展示操作执行顺序的示意图。 按以下操作来添加几个节点开始你自己的节点树。 结果将创建工程的背景。

### 插入节点

插入节点:

1. 在工具栏中, 点击第一个图标来显示**Image**分类的节点。

2. 从中选择**Constant**(纯色)来将这个节点添加到节点图。

   ![](.\pic\tutorial1_11.png)

   当你插入新的节点, 它的控制面板将会显示用于定义节点结果的参数。在本例中, Constant节点将会创建固态背板。

   ![](.\pic\tutorial1_12.png)

3. 在Constant控制面板中, 单击颜色轮来打开**取色器**(Color Picker)。

   ![](.\pic\tutorial1_13.png)

4. 拖动颜色滑块和轮中的指针来选择一个亮色, 一个适合用于合成背景"地平线"的颜色。 然后关闭颜色轮窗口。

   这时, 你可以将"Constant"重命名为其他更具体的名字。

5. 在控制面板中, 单击**Constant**名称, 你现在可以编辑它的名字, 所以输入**背景**然后按回车。

   ![](.\pic\tutorial1_14.png)

   此后, 我们称这个节点为"背景"节点。

6. 关闭背景节点的面板。 当你需要再次打开它时, 只要双击节点控制面板就会再次出现。

7. 单击**背景**节点来选择它。 然后, 单击鼠标右键然后选择**Draw** > **Ramp**(渐变)。

   ![](.\pic\tutorial1_15.png)

8. 拖动**Viewer1**节点上箭头的尾巴到**Ramp1**节点上。 你将看到背景节点和渐变节点的输出和渐变控制出现在了查看器窗口内。

   ![](.\pic\tutorial1_16.png)

9. 单击**Ramp1**控制面板内的**Color**(颜色)标签。 然后选择能和你背景颜色相配的一个神色。

   ![](.\pic\tutorial1_17.png)

10. 单击控制面板中的Ramp标签来重新激活覆盖层的控制。 然后拖动**p0**和**p1**控制点来调整背景上渐变的分布和角度。

    ![](.\pic\tutorial1_18.png)

11. 当你满意结果时, 关闭Ramp1的控制面板来移除覆盖层。

### 关于连接的提示

大部分节点都有输入和输出连接器来建立他们之间计算的先后关系

![](.\pic\tutorial1_19.png)